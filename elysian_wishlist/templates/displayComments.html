{% extends 'base.html' %}

{% block head %}
<title>Wishlist Comments</title>
<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/view.css') }}">
{% endblock %}

{% block body %}
<div class="Thread-Comments-Container">
    <h1 style="text-align: center">Wishlist: <b><u>{{ lists[0].content }}</u></b></h1>
    <table>
        <tr>
            <th>Like/Dislike</th>
            <th>List</th>
            <th>Added</th>
            <th>Creators</th>
        </tr>
        {% for list in lists %}
            <tr>
                <td>
                  {{ list[0].liked.count() }} likes
                </td>
                <td>
                    <a href="/list/{{list[0].id}}">
                        {{ list[0].content }}
                    </a>
                </td>
                <td>{{ list[0].date_created.date().strftime('%B-%d-%Y') }}</td>
                <td>
                    {{ list[1] }}
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>


    <div class="Thread-Comments-Container">

      {% if result|length < 1 %}
        <h4 class="Comment-Text">No comments yet.</h4>

      {% else %}
        <div class="Thread-Comments">
          <table>
            <!-- <tr>
              <th>Comments</th>
              <th>Added</th>
            </tr> -->
            {% for sublist in result %}
              <div class="Comment-Container">
                  <p class="Comment-Content">{{ sublist[0].body }}</p>
                  <p class="Date-Added"><strong>{{ sublist[1] }}</strong> - {{ sublist[0].timestamp.strftime('%H:%M - %B-%d-%Y') }}</p>
              </div>
            {% endfor %}
          </table>
        </div>
      {% endif %}

      <form class="Create-Comment-Form" action="/comments/1" method="POST">
          <textarea type="text" name="content" class="Single-Comment-Content" placeholder="Write a comment"></textarea><br>
          <input type="hidden" name="parentId" value="{{ lists[0].0.id }}">
          <input type="hidden" name="authorId" value="{{ lists[0].0.user_uid }}">
          <input type="submit" value="Comment" class="Post-Comment-Button">
      </form>
      <br><br>
    </div>




<br><br><br>
{% endblock %}
